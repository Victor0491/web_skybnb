<div class="container">
  <div class="titulo">
    <h2>Seleccione sus preferencias</h2>
  </div>

  <div class="opciones-container" *ngIf="seccionActual === 'tipoAlojamiento'">
    <h3>Tipo de alojamiento</h3>
    <div class="opcion-container">
      <button *ngFor="let tipo of tiposAlojamiento" class="opcion" 
        [class.selected]="preferenciasForm.get('tipoAlojamiento')?.value === tipo.nombre"
        (click)="seleccionarTipo(tipo.nombre)">
        <img [src]="tipo.imagen" alt="{{ tipo.nombre }}">
        {{ tipo.nombre }}
      </button>
    </div>
  </div>

  <div class="opciones-container" *ngIf="seccionActual === 'ubicacion'">
    <h3>Ubicaci√≥n</h3>
    <div class="opcion-container">
      <button *ngFor="let ubicacion of ubicaciones" class="opcion" 
        [class.selected]="preferenciasForm.get('ubicacion')?.value === ubicacion.nombre"
        (click)="seleccionarUbicacion(ubicacion.nombre)">
        <img [src]="ubicacion.imagen" alt="{{ ubicacion.nombre }}">
        {{ ubicacion.nombre }}
      </button>
    </div>
  </div>

  <div class="opciones-container" *ngIf="seccionActual === 'actividad'">
    <h3>Actividades</h3>
    <div class="opcion-container">
      <button *ngFor="let actividad of actividades" class="opcion" 
        [class.selected]="preferenciasForm.get('actividad')?.value.includes(actividad.nombre)"
        (click)="seleccionarActividad(actividad.nombre)">
        <img [src]="actividad.imagen" alt="{{ actividad.nombre }}">
        {{ actividad.nombre }}
      </button>
    </div>
  </div>

  <div class="button-container">
    <button *ngIf="historialSecciones.length > 0 && seccionActual !== 'tipoAlojamiento'" (click)="volver()">Volver</button>
    <button *ngIf="seccionActual !== 'actividad'" (click)="continuar()">Continuar</button>
    <button *ngIf="seccionActual === 'actividad'" (click)="submit()">Personalizar</button>
  </div>
</div>
