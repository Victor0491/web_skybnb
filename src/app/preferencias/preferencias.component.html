<div class="modal">
  <div class="modal-content">
    <button class="close-button" (click)="onCloseModal()">X</button>
    <div class="container">
      <div class="titulo">
        <h2>Seleccione sus preferencias</h2>
      </div>

      <div class="opciones-container" *ngIf="seccionActual === 'tipoAlojamiento'">
        <h3>Tipo de alojamiento</h3>
        <div class="opcion-container">
          <button *ngFor="let tipo of tiposAlojamiento; let i = index" class="opcion" 
            [class.selected]="preferenciasForm.get('tipoAlojamiento')?.value === tipo.id"
            [class.intercalado]="i >= 3 && i % 2 === 1"
            (click)="seleccionarTipo(tipo.id)">
            <div class="opcion-content">
              <img [src]="tipo.image" alt="{{ tipo.nombre }}">
              <div>{{ tipo.nombre }}</div>
            </div>
          </button>
        </div>
      </div>

      <div class="opciones-container" *ngIf="seccionActual === 'ubicacion'">
        <h3>Ubicaci√≥n</h3>
        <div class="opcion-container">
          <button *ngFor="let ubicacion of ubicaciones; let i = index" class="opcion" 
            [class.selected]="preferenciasForm.get('ubicacion')?.value === ubicacion.id"
            [class.intercalado]="i >= 3 && i % 2 === 1"
            (click)="seleccionarUbicacion(ubicacion.id)">
            <div class="opcion-content">
              <img [src]="ubicacion.image" alt="{{ ubicacion.nombre }}">
              <div>{{ ubicacion.nombre }}</div>
            </div>
          </button>
        </div>
      </div>

      <div class="opciones-container" *ngIf="seccionActual === 'actividad'">
        <h3>Actividades</h3>
        <div class="opcion-container">
          <button *ngFor="let actividad of actividades; let i = index" class="opcion" 
            [class.selected]="preferenciasForm.get('actividad')?.value.includes(actividad.id)"
            [class.intercalado]="i >= 3 && i % 2 === 1"
            (click)="seleccionarActividad(actividad.id)">
            <div class="opcion-content">
              <img [src]="actividad.image" alt="{{ actividad.nombre }}">
              <div>{{ actividad.nombre }}</div>
            </div>
          </button>
        </div>
      </div>

      <div class="button-container">
        <button *ngIf="historialSecciones.length > 0 && seccionActual !== 'tipoAlojamiento'" (click)="volver()">Volver</button>
        <button *ngIf="seccionActual !== 'actividad'" (click)="continuar()">Continuar</button>
        <button *ngIf="seccionActual === 'actividad'" (click)="EnviarForm()">Personalizar</button>
      </div>
    </div>
  </div>
</div>
